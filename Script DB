CREATE TABLE Users (
user_id INTEGER PRIMARY KEY AUTOINCREMENT,
user_name TEXT NOT NULL,
user_email TEXT NOT NULL,
user_password TEXT NOT NULL,
user_isAdmin BOOLEAN DEFAULT 0
);

CREATE TABLE Notes (
note_id INTEGER PRIMARY KEY AUTOINCREMENT,
note_name TEXT NOT NULL,
note_text TEXT,
user_id INTEGER NOT NULL REFERENCES Users(user_id) ON DELETE CASCADE
);

CREATE TABLE Allergens (
allergen_id INTEGER PRIMARY KEY AUTOINCREMENT,
allergen_name TEXT NOT NULL,
allergen_photo BLOB,
allergen_info TEXT
);

CREATE TABLE UserAllergens (
user_id INTEGER NOT NULL REFERENCES Users(user_id) ON DELETE CASCADE,
allergen_id INTEGER NOT NULL REFERENCES Allergens(allergen_id) ON DELETE CASCADE,
PRIMARY KEY (user_id, allergen_id)
);

CREATE TABLE ConsStatus (
consultation_status_id INTEGER PRIMARY KEY,
consultation_status TEXT NOT NULL
);

CREATE TABLE Doctors (
doctor_id INTEGER PRIMARY KEY AUTOINCREMENT,
doctor_name TEXT NOT NULL,
doctor_email TEXT NOT NULL,
doctor_password TEXT NOT NULL,
doctor_IBAN TEXT,
doctor_photo BLOB,
doctor_documents BLOB,
doctor_status BOOLEAN NOT NULL
);

CREATE TABLE Points (
point_id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
point_name TEXT NOT NULL,
point_photo BLOB,
point_info TEXT NOT NULL,
point_status BOOLEAN NOT NULL,
point_coordinates_latitude TEXT NOT NULL,
point_coordinates_longitude TEXT NOT NULL,
allergen_id INTEGER NOT NULL REFERENCES Allergens(allergen_id) ON DELETE CASCADE
);

CREATE TABLE Consultations (
consultation_id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
consultation_date DATE NOT NULL,
consultation_time TIME NOT NULL,
user_id INTEGER NOT NULL REFERENCES Users(user_id) ON DELETE CASCADE,
doctor_id INTEGER NOT NULL REFERENCES Doctors(doctor_id) ON DELETE CASCADE,
consultation_status BOOLEAN NOT NULL
);
